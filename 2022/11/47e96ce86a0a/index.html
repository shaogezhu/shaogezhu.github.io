<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="田埂の技术分享" href="https://shaogezhu.cn/rss.xml"><link rel="alternate" type="application/atom+xml" title="田埂の技术分享" href="https://shaogezhu.cn/atom.xml"><link rel="alternate" type="application/json" title="田埂の技术分享" href="https://shaogezhu.cn/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="RPC,Java,中间件"><link rel="canonical" href="https://shaogezhu.cn/2022/11/47e96ce86a0a/"><title>初探 RPC 框架设计 - 学习笔记 - Java | 田埂の技术分享 = 和你一起遇见更好的自己</title><meta name="generator" content="Hexo 5.4.1"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">初探 RPC 框架设计</h1><div class="meta"><span class="item" title="创建时间：2022-11-18 02:43:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-11-18T02:43:00+08:00">2022-11-18</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>3k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>5 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">田埂の技术分享</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://shaogezhu-images.oss-cn-beijing.aliyuncs.com/images/6833939bly1giclhfehz7j20zk0m8u0x.jpg"></li><li class="item" data-background-image="https://shaogezhu-images.oss-cn-beijing.aliyuncs.com/images/6833939bly1giclhpw3lwj20zk0m8gvw.jpg"></li><li class="item" data-background-image="https://shaogezhu-images.oss-cn-beijing.aliyuncs.com/images/6833939bly1giciuja1j1j20zk0m8kjl.jpg"></li><li class="item" data-background-image="https://shaogezhu-images.oss-cn-beijing.aliyuncs.com/images/6833939bly1giclj61ylzj20zk0m8b29.jpg"></li><li class="item" data-background-image="https://shaogezhu-images.oss-cn-beijing.aliyuncs.com/images/6833939bly1gicivghyooj20zk0m8dir.jpg"></li><li class="item" data-background-image="https://shaogezhu-images.oss-cn-beijing.aliyuncs.com/images/6833939bly1gipevuctzzj20zk0m84qp.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/java/" itemprop="item" rel="index" title="分类于 Java"><span itemprop="name">Java</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/java/note/" itemprop="item" rel="index" title="分类于 学习笔记"><span itemprop="name">学习笔记</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://shaogezhu.cn/2022/11/47e96ce86a0a/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="田埂、"><meta itemprop="description" content="和你一起遇见更好的自己, 仍在奔赴远方路上的少年"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="田埂の技术分享"></span><div class="body md" itemprop="articleBody"><div class="note info"><p>🌴🌴经常听到大家说不同项目之间调用使用 HTTP 方式，同一个项目内不同服务之间调用使用 RPC 方式。今天就来学习一下 <code>RPC框架</code> ，RPC 框架由哪些部分组成又是如何一步一步设计出来的。</p></div><br><h2 id="了解rpc框架"><a class="anchor" href="#了解rpc框架">#</a> 了解 RPC 框架</h2><p>既然要设计 RPC 框架，就需要先知道<strong>什么是 RPC</strong> ？</p><p>RPC（Remote Procedure Call Protocol）全称<strong>远程过程调用</strong> ，像调用本地服务 (方法) 一样调用服务器的服务 (方法)。</p><br><p><strong>RPC 又是如何进行调用的呢？</strong></p><p>很早的时候，国外的工程师设计了一种能够通过 A 计算机调用 B 计算机上边应用程序的技术，这种技术不需要开发人员对于网络通讯了解过多，并且<strong>调用其他机器上边程序的时候和调用本地的程序一样方便好用</strong>。A 机器发起请求去调用 B 机器程序的时候会被挂起，B 机器接收到 A 机器发起的请求参数之后会做一定的参数转换，最后将对应的程序结果返回给 A，这个就是最原始的 RPC 服务调用了。</p><br><p>通常的 RPC 架构可分为了以下几个核心组件：</p><ul><li>Client</li><li>Client Stub</li><li>Server</li><li>Server Stub</li></ul><p>Client 和 Server 两个名词的概念一般都比较好理解，前一个是客户端（请求发起方），后一个是服务端（服务提供方）。下面来说一下 Server Stub 和 Client Stub 是做什么的。</p><p><strong>Client Stub：</strong> 就是将客户端请求的参数、服务名称、服务地址进行打包，统一发送给 server 方。</p><p><strong>Server Stub：</strong> 简单来说就是，服务端接收到 Client 发送的数据之后进行消息解包，调用本地方法。</p><p>具体的调用流程和关系如下图所示：</p><p><img data-src="/assets/2022-11/rpc1.png" alt="image.png"></p><br><h2 id="rpc框架整体分析和设计"><a class="anchor" href="#rpc框架整体分析和设计">#</a> RPC 框架整体分析和设计</h2><p>上面我们已经知道了 RPC 框架的一些基本概念，接下来对我们的 RPC 框架进行进一步的分析和设计。</p><h3 id="rpc框架调用流程"><a class="anchor" href="#rpc框架调用流程">#</a> RPC 框架调用流程</h3><p>本地客户端<strong>以本地调用方式</strong>调用服务，首先需要通知到本地的存根 <code>（Client Stub）</code> ，接着本地存根会进行一些数据格式的包装，网络请求的封装等，最终组装成能够进行网络传输的消息体，按照一定的规则将这个消息体通过 <code>Socket</code> 发送到指定的目标机器上。</p><p>服务端的存根 <code>（Server Stub）</code> 在接收到相关的数据信息之后，需要将其按照事先约定好的规则进行解码，从而识别到消息体内部的信息，然后将对应的请求<strong>转发到本地服务对应的函数</strong>中进行处理。处理完的数据需要再通过 <code>Socket</code> 返回给调用方。</p><p>调用方存根在接收到服务方数据的时候，需要进行数据解码，最后得到这次请求的最终结果。</p><p>调用的流程如下图所示：</p><p><img data-src="/assets/2022-11/rpc2.png" alt="image.png"></p><p>这幅图只是一个最简单的调用流程，接下来我们尝试在这张调用图的基础上 不断地进行功能扩展，从而最终设计出一个比较完善的 RPC 框架。</p><br><h3 id="代理层设计"><a class="anchor" href="#代理层设计">#</a> 代理层设计</h3><p>RPC 最大的特点就是<strong>像调用本地服务 (方法) 一样调用服务器的服务 (方法)</strong>，实现这一点就需要我们在远程调用的时候，将其中内部的细节进行封装屏蔽，让调用者感知不到远程调用的逻辑。</p><p>看了上面的描述会不会联想到 <code>代理模式</code> ？ 由于某些原因需要给某对象提供一个代理以控制对该对象的访问。这个时候，访问对象 <code>（Client）</code> 不适合或者不能直接引用目标对象 <code>（Service）</code> ，<strong>代理对象作为访问对象和目标对象之间的中介</strong>。</p><br><p>代理模式的主要优点有：</p><ul><li>代理模式能将代理对象与真实被调用的目标对象分离；</li><li>代理模式在客户端与目标对象之间起到一个中介作用和保护目标对象的作用；</li><li>代理模式一定程度上降低了系统的耦合度，增加了程序的可扩展性。</li></ul><p>所以面对客户端的请求，我们可以增加一个<strong>代理层</strong>，统一将内部的细节都屏蔽起来，让调用者使用起来无感知。这个时候我们可以用下图表示这个请求调用的流程：</p><p><img data-src="/assets/2022-11/rpc3.png" alt="image.png"></p><br><h3 id="路由层的设计"><a class="anchor" href="#路由层的设计">#</a> 路由层的设计</h3><p>当服务提供者有多个的时候，我们就会面临以下问题：<strong>当目标服务众多的时候，客户端需要如何确定最终请求的服务提供者是谁呢？</strong></p><p>这里就需要引入一个叫做 <code>路由的角色</code> ，负责遴选出符合条件的服务提供者，此时客户端的调用整体流程大致如下：</p><p><img data-src="/assets/2022-11/rpc4.png" alt="image.png"></p><p>客户端的请求会经过一个叫做路由层的部分，通过路由层内部的规则去选择对应的 <code>Server</code> 服务。</p><br><h3 id="协议层的设计"><a class="anchor" href="#协议层的设计">#</a> 协议层的设计</h3><p>客户端在使用 RPC 框架进行远程调用的时候，<strong>还需要对数据信息进行统一的包装和组织</strong>，最后才能将其发送到目标机器并且被目标机器接收解析，因此对于数据的各种序列化、反序列化，协议的组装我们统一可以封装在协议层中进行实现，此时客户端的调用整体流程如下图所示：</p><p><img data-src="/assets/2022-11/rpc5.png" alt="image.png"></p><p><code>router层</code> 会负责计算好最终需要调用的服务提供者具体信息，然后将对应的地址信息、请求参数传输给到 protocol 层，最终由 <code>protocol层</code> 对数据封装为对应的协议体，然后进行序列化处理，最终通过网络发送给到目标机器。</p><br><h3 id="可插拔式组件设计"><a class="anchor" href="#可插拔式组件设计">#</a> 可插拔式组件设计</h3><p>从客户端本地请求，到 <code>protocol层</code> 发送数据，整个链路中可能<strong>还需要考虑后续的一些二次扩展设计</strong>。例如某些自定义条件的过滤，服务分组等等，所以在设计的时候可以考虑在代理层（proxy）和路由层（router）之间加入一些链路模块。这类设计有点类似于 <code>责任链模式</code> ，整体的设计结构大致如下：</p><p><img data-src="/assets/2022-11/rpc6.png" alt="image.png"></p><p>可插拔式的组件主要是为了以后方便进行二次扩展。</p><br><h3 id="注册中心层的设计"><a class="anchor" href="#注册中心层的设计">#</a> 注册中心层的设计</h3><p>当服务提供者呈现集群的时候，客户端需要<strong>去动态获取服务提供者的诸多信息</strong>，那么在这个过程中就需要引入一个叫做注册中心的角色。</p><p>服务提供者将自己的地址、接口等详细信息都上报到注册中心模块，并且当服务上线、下线都会通知到注册中心。然后服务调用方只需要订阅注册中心即可。</p><p>所以对于注册中心层我们也可以统一抽取一个层面出来，现在我们再来调整下整体的设计结构图：</p><p><img data-src="/assets/2022-11/rpc7.png" alt="image.png"></p><p>市面上有很多注册中心技术，常见的组件有 <code>ZooKeeper</code> ， <code>Nacos</code> ， <code>Redis</code> 等等。</p><br><h3 id="容错层的设计"><a class="anchor" href="#容错层的设计">#</a> 容错层的设计</h3><p>在进行远程调用的过程中，<strong>难免会出现一些异常的情况</strong>。市面上常见的 RPC 框架在处理调用异常的时候通常都会提供一些容错方面的处理手段，常见手段如下：</p><ul><li><strong>超时重试</strong>：当调用某个 provider 失败的时候，会重试其他 provider，可以设置重试次数；</li><li><strong>快速失败</strong>：当调用某个 provider 失败的时候，不会重试其他 provider，快速返回异常结果；</li><li><strong>无限重试</strong>：请求失败后会自动会自动记录在失败队列中，并由一个定时线程重试；</li><li><strong>异常回调</strong>：出现异常后，回调指定方法；</li><li><strong>无视失败</strong>：出现异常后，不做任何处理。</li><li>……</li></ul><p>面对这种异常的场景，我们可以尝试将这些处理手段统一抽象出来，交给 <code>容错层</code> 去处理，所以此时我们需要再对这款 RPC 框架进行修改：</p><p><img data-src="/assets/2022-11/rpc8.png" alt="image.png"></p><br><h3 id="服务提供者的线程池设计"><a class="anchor" href="#服务提供者的线程池设计">#</a> 服务提供者的线程池设计</h3><p>当请求发送到了服务提供者的时候，服务提供方需要对其进行相应的解码，然后<strong>在本地进行核心处理</strong>。我们如果想提升服务器的并发访问，这部分的工作需要交给专门的线程去计算处理。此时我们再对 RPC 框架的调用图进行修改，大致如下：</p><p><img data-src="/assets/2022-11/rpc9.png" alt="image.png"></p><p>好了到这里，RPC 框架已经设计的差不多了，这个就是我们最终设计的 RPC 框架。通过上面的了解对日后更深入学习 RPC 框架会有很大的帮助。</p><br><h2 id="总结"><a class="anchor" href="#总结">#</a> 总结</h2><p>最后我们再做一下总结，在上面一步一步设计完 RPC 的框架之后，我们的 RPC 框架的整体结构基本分层为：</p><ul><li><p><strong>代理层</strong>：负责对底层调用细节的封装；</p></li><li><p><strong>链路层</strong>：负责执行一些自定义的过滤链路，可以供后期二次扩展；</p></li><li><p><strong>路由层</strong>：负责在集群目标服务中的调用筛选策略；</p></li><li><p><strong>协议层</strong>：负责请求数据的转码封装等作用；</p></li><li><p><strong>注册中心</strong>：关注服务的上下线，以及一些权重，配置动态调整等功能；</p></li><li><p><strong>容错层</strong>：当服务调用出现失败之后需要有容错层的兜底辅助；</p></li></ul><p>另外再附一张业界知名 RPC 框架 <code>Dubbo</code> 中各个层依赖关系图作对比：（来自 Dubbo 官方文档）</p><p><img data-src="https://img-blog.csdnimg.cn/img_convert/a8668df70fa713ada4702dd88f9ed107.jpeg" alt="来自Dubbo官方文档"></p><p>这次分享就到这里就结束了，欢迎大家交流探讨。</p><p>🚀🚀🚀<br><br></p><div class="tags"><a href="/tags/RPC/" rel="tag"><i class="ic i-tag"></i> RPC</a> <a href="/tags/Java/" rel="tag"><i class="ic i-tag"></i> Java</a> <a href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" rel="tag"><i class="ic i-tag"></i> 中间件</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2022-11-25 01:03:33" itemprop="dateModified" datetime="2022-11-25T01:03:33+08:00">2022-11-25</time> </span><span id="2022/11/47e96ce86a0a/" class="item leancloud_visitors" data-flag-title="初探 RPC 框架设计" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="田埂、 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="田埂、 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="田埂、 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>田埂、 <i class="ic i-at"><em>@</em></i>田埂の技术分享</li><li class="link"><strong>本文链接：</strong> <a href="https://shaogezhu.cn/2022/11/47e96ce86a0a/" title="初探 RPC 框架设计">https://shaogezhu.cn/2022/11/47e96ce86a0a/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2022/11/739a0b98107c/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;shaogezhu-images.oss-cn-beijing.aliyuncs.com&#x2F;images&#x2F;6833939bly1gicli9lfebj20zk0m84qp.jpg" title="写代码犹如写文章-读代码的简洁之道"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 学习笔记</span><h3>写代码犹如写文章-读代码的简洁之道</h3></a></div><div class="item right"></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3rpc%E6%A1%86%E6%9E%B6"><span class="toc-number">1.</span> <span class="toc-text">了解 RPC 框架</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#rpc%E6%A1%86%E6%9E%B6%E6%95%B4%E4%BD%93%E5%88%86%E6%9E%90%E5%92%8C%E8%AE%BE%E8%AE%A1"><span class="toc-number">2.</span> <span class="toc-text">RPC 框架整体分析和设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#rpc%E6%A1%86%E6%9E%B6%E8%B0%83%E7%94%A8%E6%B5%81%E7%A8%8B"><span class="toc-number">2.1.</span> <span class="toc-text">RPC 框架调用流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%90%86%E5%B1%82%E8%AE%BE%E8%AE%A1"><span class="toc-number">2.2.</span> <span class="toc-text">代理层设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%B1%82%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">2.3.</span> <span class="toc-text">路由层的设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE%E5%B1%82%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">2.4.</span> <span class="toc-text">协议层的设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E6%8F%92%E6%8B%94%E5%BC%8F%E7%BB%84%E4%BB%B6%E8%AE%BE%E8%AE%A1"><span class="toc-number">2.5.</span> <span class="toc-text">可插拔式组件设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E5%B1%82%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">2.6.</span> <span class="toc-text">注册中心层的设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B9%E9%94%99%E5%B1%82%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">2.7.</span> <span class="toc-text">容错层的设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E6%8F%90%E4%BE%9B%E8%80%85%E7%9A%84%E7%BA%BF%E7%A8%8B%E6%B1%A0%E8%AE%BE%E8%AE%A1"><span class="toc-number">2.8.</span> <span class="toc-text">服务提供者的线程池设计</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">3.</span> <span class="toc-text">总结</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2021/9/b35e5850bf12/" rel="bookmark" title="网站压力测试工具之ab (ApacheBench) 和 Jmeter 详解">网站压力测试工具之ab (ApacheBench) 和 Jmeter 详解</a></li><li><a href="/2021/9/392314cccb3f/" rel="bookmark" title="聊聊 Redis 的缓存穿透、缓存击穿、缓存雪崩">聊聊 Redis 的缓存穿透、缓存击穿、缓存雪崩</a></li><li><a href="/2021/10/4eb7eccc7c2a/" rel="bookmark" title="Redis 常见数据结构以及使用场景分析">Redis 常见数据结构以及使用场景分析</a></li><li><a href="/2021/10/95416e47530f/" rel="bookmark" title="内存溢出和内存泄露的区别与联系">内存溢出和内存泄露的区别与联系</a></li><li><a href="/2021/10/17f071d31a96/" rel="bookmark" title="终于弄明白了ThreadLocal">终于弄明白了ThreadLocal</a></li><li><a href="/2021/10/61a222d598ec/" rel="bookmark" title="spring事务 常见的失效场景">spring事务 常见的失效场景</a></li><li><a href="/2021/11/2a1449b2531c/" rel="bookmark" title="MySQL常见的锁分析">MySQL常见的锁分析</a></li><li><a href="/2021/11/275d4281e1a0/" rel="bookmark" title="MySQL中：一条update语句是怎样执行的">MySQL中：一条update语句是怎样执行的</a></li><li><a href="/2022/3/53fe22309155/" rel="bookmark" title="JVM垃圾回收-记忆集和卡表">JVM垃圾回收-记忆集和卡表</a></li><li><a href="/2022/3/24dc16aab990/" rel="bookmark" title="JVM垃圾回收-三色标记">JVM垃圾回收-三色标记</a></li><li><a href="/2022/3/ead1dab4ce75/" rel="bookmark" title="JVM垃圾收集-ZGC的染色指针">JVM垃圾收集-ZGC的染色指针</a></li><li><a href="/2022/11/739a0b98107c/" rel="bookmark" title="写代码犹如写文章-读代码的简洁之道">写代码犹如写文章-读代码的简洁之道</a></li><li class="active"><a href="/2022/11/47e96ce86a0a/" rel="bookmark" title="初探RPC框架设计">初探RPC框架设计</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="田埂、" data-src="/images/avatar.jpg"><p class="name" itemprop="name">田埂、</p><div class="description" itemprop="description">仍在奔赴远方路上的少年</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">22</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">5</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">27</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3NoYW9nZXpodQ==" title="https:&#x2F;&#x2F;github.com&#x2F;shaogezhu"><i class="ic i-github"></i></span> <a href="https://shaogezhu.cn/" title="https:&#x2F;&#x2F;shaogezhu.cn" class="item twitter"><i class="ic i-twitter"></i></a> <a href="https://shaogezhu.cn/" title="https:&#x2F;&#x2F;shaogezhu.cn" class="item zhihu"><i class="ic i-zhihu"></i></a> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTEzNzEyNTY1OTQ=" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;1371256594"><i class="ic i-cloud-music"></i></span> <a href="https://shaogezhu.cn/" title="https:&#x2F;&#x2F;shaogezhu.cn" class="item weibo"><i class="ic i-weibo"></i></a> <a href="https://shaogezhu.cn/" title="https:&#x2F;&#x2F;shaogezhu.cn" class="item about"><i class="ic i-address-card"></i></a></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-magic"></i>链环</a><ul class="submenu"><li class="item"><a href="/friends/" rel="section"><i class="ic i-link"></i>友链</a></li><li class="item"><a href="/collection/" rel="section"><i class="ic i-star"></i>收藏</a></li></ul></li><li class="item"><a href="/about/" rel="section"><i class="ic i-sakura"></i>关于</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/note/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2021/10/4eb7eccc7c2a/" title="Redis 常见数据结构以及使用场景分析">Redis 常见数据结构以及使用场景分析</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/note/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2021/11/5c2b3693deda/" title="彻底理解 进程、线程、多进程、多线程">彻底理解 进程、线程、多进程、多线程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/note/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2021/9/392314cccb3f/" title="聊聊 Redis 的缓存穿透、缓存击穿、缓存雪崩">聊聊 Redis 的缓存穿透、缓存击穿、缓存雪崩</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/practice/" title="分类于 技术实践">技术实践</a></div><span><a href="/2022/8/e92c6dc1ddaa/" title="系统总结，带你实现Linux命令自由">系统总结，带你实现Linux命令自由</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/note/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2022/3/ead1dab4ce75/" title="JVM垃圾收集-ZGC的染色指针">JVM垃圾收集-ZGC的染色指针</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/practice/" title="分类于 技术实践">技术实践</a></div><span><a href="/2021/9/fc647db813d3/" title="常见的限流算法分析以及手写实现（计数器、漏斗、令牌桶）">常见的限流算法分析以及手写实现（计数器、漏斗、令牌桶）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/note/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2022/11/739a0b98107c/" title="写代码犹如写文章-读代码的简洁之道">写代码犹如写文章-读代码的简洁之道</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/note/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2021/11/a702195cf0e5/" title="HTTP协议 和 HTTPS协议 详解">HTTP协议 和 HTTPS协议 详解</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/note/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2021/10/95416e47530f/" title="内存溢出和内存泄露的区别与联系">内存溢出和内存泄露的区别与联系</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/note/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2022/3/24dc16aab990/" title="JVM垃圾回收-三色标记">JVM垃圾回收-三色标记</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2021 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">田埂、 @ 田埂の技术分享</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">126k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">3:30</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2022/11/47e96ce86a0a/",favicon:{show:"田埂の技术分享",hide:"田埂の技术分享"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>