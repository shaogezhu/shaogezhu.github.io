<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="田埂の技术分享" href="https://shaogezhu.cn/rss.xml"><link rel="alternate" type="application/atom+xml" title="田埂の技术分享" href="https://shaogezhu.cn/atom.xml"><link rel="alternate" type="application/json" title="田埂の技术分享" href="https://shaogezhu.cn/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="面试,八股文,基础"><link rel="canonical" href="https://shaogezhu.cn/2021/11/a702195cf0e5/"><title>HTTP 协议 和 HTTPS 协议 详解 - 学习笔记 | 田埂の技术分享 = 和你一起遇见更好的自己</title><meta name="generator" content="Hexo 5.4.1"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">HTTP 协议 和 HTTPS 协议 详解</h1><div class="meta"><span class="item" title="创建时间：2021-11-05 22:57:49"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-11-05T22:57:49+08:00">2021-11-05</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>5.9k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>10 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">田埂の技术分享</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipey84bjtj20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicljgocqbj20zk0m8e81.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giph47e9vtj20zk0m8x6l.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicliierfjj20zk0m8npd.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipeyvx1d4j20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipevarprfj20zk0m8npd.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/note/" itemprop="item" rel="index" title="分类于 学习笔记"><span itemprop="name">学习笔记</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://shaogezhu.cn/2021/11/a702195cf0e5/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="田埂、"><meta itemprop="description" content="和你一起遇见更好的自己, 仍在奔赴远方路上的少年"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="田埂の技术分享"></span><div class="body md" itemprop="articleBody"><div class="note info"><p>我们经常说的通信协议，以及三次握手四次挥手，都是什么？ http 和 https 有什么关系，建立链接的流程一样么？为什么 https 就安全了？ 读完这篇文章你就会有非常深刻的认识🙇</p></div><h2 id="协议"><a class="anchor" href="#协议">#</a> 协议</h2><blockquote><p>📌网络协议是计算机之间为了实现网络通信而达成的一种 “约定” 或者” 规则 “，有了这种” 约定 “，不同厂商的生产设备，以及不同操作系统组成的计算机之间，就可以实现通信。</p></blockquote><h2 id="http-协议"><a class="anchor" href="#http-协议">#</a> HTTP 协议</h2><p><strong>✨HTTP</strong>（HyperText Transfer Protocol：超文本传输协议）是一种用于分布式、协作式和超媒体信息系统的应用层协议。 简单来说就是一种发布和接收 HTML 页面的方法，被用于在 Web 浏览器和网站服务器之间传递信息。</p><h4 id="http建立链接的过程"><a class="anchor" href="#http建立链接的过程">#</a> http 建立链接的过程</h4><ul><li>客户端向服务器发送请求报文</li><li>服务器根据请求报文收集对应的组合成响应报文</li><li>客户端收到响应报文后进行解析渲染</li></ul><h4 id="http特点"><a class="anchor" href="#http特点">#</a> HTTP 特点</h4><ol><li>http 协议支持客户端 / 服务端模式，也是一种请求 / 响应模式的协议。</li><li>简单快速：客户向服务器请求服务时，只需传送请求方法和路径。请求方法常用的有 GET、HEAD、POST。</li><li>灵活：HTTP 允许传输任意类型的数据对象。传输的类型由 Content-Type 加以标记。</li><li>无连接：限制每次连接只处理一个请求。服务器处理完请求，并收到客户的应答后，即断开连接，但是却不利于客户端与服务器保持会话连接，为了弥补这种不足，产生了两项记录 http 状态的技术，一个叫做 Cookie, 一个叫做 Session。</li><li>无状态：无状态是指协议对于事务处理没有记忆，后续处理需要前面的信息，则必须重传。</li></ol><h2 id="https-协议"><a class="anchor" href="#https-协议">#</a> HTTPS 协议</h2><p><strong>✨HTTPS</strong>（Hypertext Transfer Protocol Secure：超文本传输安全协议）是一种透过计算机网络进行安全通信的传输协议。HTTPS 经由 HTTP 进行通信，但利用 SSL/TLS 来加密数据包。HTTPS 开发的主要目的，是提供对网站服务器的身份认证，保护交换数据的隐私与完整性。</p><h4 id="https建立链接的过程"><a class="anchor" href="#https建立链接的过程">#</a> https 建立链接的过程</h4><p><img data-src="/assets/2021-11/http1.png" alt="image.png"></p><p><strong>具体步骤如下：</strong></p><ol><li>client 向 server 发送请求 https://www.shaogezhu.cn ，然后连接到 server 的 443 端口，发送的信息包含客户端支持的加密算法。</li><li>server 接收到信息之后给予 client 响应握手信息，包含匹配好的协商加密算法，这个加密算法一定是 client 发送给 server 加密算法的子集。</li><li>随即 server 给 client 发送第二个响应报文是数字证书。服务端必须要有一套数字证书，可以自己制作，也可以向组织申请。区别就是自己颁发的证书需要客户端验证通过，才可以继续访问，而使用受信任的公司申请的证书则不会弹出提示页面，这套证书其实就是一对公钥和私钥。传送证书，这个证书其实就是公钥，只是包含了很多信息，如证书的颁发机构，过期时间、服务端的公钥，第三方证书认证机构 (CA) 的签名，服务端的域名信息等内容。</li><li>客户端解析验证证书，这部分工作是由客户端的 SSL/TLS 来完成的，首先会验证公钥是否有效，比如颁发机构，过期时间等等，如果发现异常，则会弹出一个警告框，提示证书存在问题。如果证书没有问题，那么就生成一个随即值（预主秘钥）。</li><li>客户端认证证书通过之后，接下来是通过生成会话密钥。然后通过证书的公钥加密会话密钥。</li><li>服务端使用私钥解密得到会话密钥，然后服务端会通过会话秘钥加密一条消息回传给客户端，如果客户端能够正常接受的话表明 SSL 层连接建立完成了。</li></ol><h4 id="https的特点"><a class="anchor" href="#https的特点">#</a> https 的特点</h4><ol><li><strong>内容加密：</strong> 采用混合加密技术，中间者无法直接查看明文内容</li><li><strong>验证身份：</strong> 通过证书认证客户端访问的是自己的服务器</li><li><strong>保护数据完整性：</strong> 防止传输的内容被中间人冒充或者篡改</li></ol><h2 id="http-与-https-区别"><a class="anchor" href="#http-与-https-区别">#</a> HTTP 与 HTTPS 区别</h2><ol><li>HTTP 明文传输，数据都是未加密的，安全性较差，HTTPS（SSL+HTTP） 数据传输过程是加密的，安全性较好。</li><li>使用 HTTPS 协议需要到 <strong>CA</strong>（Certificate Authority，数字证书认证机构） 申请证书，一般免费证书较少，因而需要一定费用。</li><li>HTTP 页面响应速度比 HTTPS 快，主要是因为 HTTP 使用 TCP 三次握手建立连接，客户端和服务器需要交换 3 个包，而 HTTPS 除了 TCP 的三个包，还要加上 ssl 握手需要的 9 个包，所以一共是 12 个包。</li><li>http 和 https 使用的是完全不同的连接方式，用的端口也不一样，前者是 80，后者是 443。</li><li>HTTPS 其实就是建构在 SSL/TLS 之上的 HTTP 协议，所以，要比较 HTTPS 比 HTTP 要更耗费服务器资源。</li></ol><blockquote><p><strong>CA 认证</strong>：第三方数字签名认证机构，为了确认 https 中服务器发送的公开秘钥没有被篡改，因此会先发送给可信的第三方进行签名，客户端使用机构的公开秘钥进行签名认证，用来保证服务器公开秘钥的可靠性。</p><p><strong>数字摘要：</strong> 通过单向 hash 函数对原文进行哈希，将需加密的明文 “摘要” 成一串固定长度 (如 128bit) 的密文，不同的明文摘要成的密文其结果总是不相同，同样的明文其摘要必定一致，并且即使知道了摘要也不能反推出明文。</p></blockquote><h4 id="对称秘钥加密和非对称秘钥加密"><a class="anchor" href="#对称秘钥加密和非对称秘钥加密">#</a> 对称秘钥加密和非对称秘钥加密</h4><p><strong>非对称加密🌴：</strong> 公开秘钥是任何人都可以轻易获得，并且可以随意发送。但是公开密钥加密后的内容只有提供公开秘钥的服务方可以使用自己的私有秘钥进行解密<br><strong>对称加密🌴：</strong> 加密和解密使用的是同一秘钥，所以只要获得加密秘钥就可以进行解密。</p><h4 id="tcp三次握手过程"><a class="anchor" href="#tcp三次握手过程">#</a> TCP 三次握手过程</h4><p><img data-src="/assets/2021-11/http2.png" alt="image.png"></p><p><strong>具体过程如下👀：</strong><br>（1）第一次握手：客户端尝试连接服务器，向服务器发送 syn 包（同步序列编号 Synchronize Sequence Numbers），seq=a，客户端进入 SYN_SEND 状态等待服务器确认</p><p>（2）第二次握手：服务器接收客户端 syn 包并确认（Ack=a+1），seq=b，同时向客户端发送一个 SYN 包（syn=1），此时服务器进入 SYN_RECV 状态</p><p>（3）第三次握手：客户端收到服务器的 SYN+ACK 包，向服务器发送确认包 ACK (ack=b+1），此包发送完毕，客户端和服务器进入 ESTABLISHED 状态，完成三次握手</p><p>（4）Server 端在收到 Client 的 ACK 帧之后，会从 SYN_RCVD 状态会进入 ESTABLISHED 状态，至此，Server 方向的通道连接建立成功，Server 可以发送数据给 Client，TCP 的全双工连接建立完成。</p><h4 id="四次挥手过程"><a class="anchor" href="#四次挥手过程">#</a> 四次挥手过程</h4><p><img data-src="/assets/2021-11/http3.png" alt="image.png"></p><p><strong>具体过程如下👀：</strong><br>（1）第一次挥手：主动断开方（可以是客户端，也可以是服务器端），向对方发送一个 FIN 结束请求报文，此报文的 FIN 位被设置为 1，并且正确设置 Sequence Number（序列号）和 AcknowledgmentNumber（确认号）。发送完成后，主动断开方进入 FIN_WAIT_1 状态，这表示主动断开方没有业务数据要发送给对方，准备关闭 SOCKET 连接了。</p><p>（2）第二次挥手：正常情况下，在收到了主动断开方发送的 FIN 断开请求报文后，被动断开方会发送一个 ACK 响应报文，报文的 Acknowledgment Number（确认号）值为断开请求报文的 Sequence Number（序列号）加 1，该 ACK 确认报文的含义是：“我同意你的连接断开请求”。之后，被动断开方就进入了 CLOSE-WAIT（关闭等待）状态，TCP 协议服务会通知高层的应用进程，对方向本地方向的连接已经关闭，对方已经没有数据要发送了，若本地还要发送数据给对方，对方依然会接受。被动断开方的 CLOSE-WAIT（关闭等待）还要持续一段时间，也就是整个 CLOSE-WAIT 状态持续的时间。</p><p>👉🏻主动断开方在收到了 ACK 报文后，由 FIN_WAIT_1 转换成 FIN_WAIT_2 状态。</p><p>（3）第三次挥手：在发送完成 ACK 报文后，被动断开方还可以继续完成业务数据的发送，待剩余数据发送完成后，或者 CLOSE-WAIT（关闭等待）截止后，被动断开方会向主动断开方发送一个 FIN+ACK 结束响应报文，表示被动断开方的数据都发送完了，然后，被动断开方进入 LAST_ACK 状态。</p><p>（4）第四次挥手：主动断开方收在到 FIN+ACK 断开响应报文后，还需要进行最后的确认，向被动断开方发送一个 ACK 确认报文，然后，自己就进入 TIME_WAIT 状态，等待超时后最终关闭连接。处于 TIME_WAIT 状态的主动断开方，在等待完成 2MSL 的时间后，如果期间没有收到其他报文，则证明对方已正常关闭，主动断开方的连接最终关闭。</p><h2 id="拓展知识"><a class="anchor" href="#拓展知识">#</a> 拓展知识</h2><h4 id="为什么连接的时候是三次握手关闭的时候却是四次握手"><a class="anchor" href="#为什么连接的时候是三次握手关闭的时候却是四次握手">#</a> 为什么连接的时候是三次握手，关闭的时候却是四次握手？</h4><ul><li>因为当 Server 端收到 Client 端的 SYN 连接请求报文后，可以直接发送 SYN+ACK 报文。其中 ACK 报文是用来应答的，SYN 报文是用来同步的。但是关闭连接时，当 Server 端收到 FIN 报文时，很可能并不会立即关闭 SOCKET，所以只能先回复一个 ACK 报文，告诉 Client 端，&quot;你发的 FIN 报文我收到了&quot;。只有等到我 Server 端所有的报文都发送完了，我才能发送 FIN 报文，因此不能一起发送。故需要四步握手。</li></ul><h4 id="为什么连接建立的时候是三次握手可以改成两次握手吗"><a class="anchor" href="#为什么连接建立的时候是三次握手可以改成两次握手吗">#</a> 为什么连接建立的时候是三次握手，可以改成两次握手吗？</h4><ul><li>3 次握手完成两个重要的功能，既要双方做好发送数据的准备工作 (双方都知道彼此已准备好)，也要允许双方就初始序列号进行协商，这个序列号在握手过程中被发送和确认。现在把三次握手改成仅需要两次握手，死锁是可能发生的。作为例子，考虑计算机 S 和 C 之间的通信，假定 C 给 S 发送一个连接请求分组，S 收到了这个分组，并发 送了确认应答分组。按照两次握手的协定，S 认为连接已经成功地建立了，可以开始发送数据分组。可是，C 在 S 的应答分组在传输中被丢失的情况下，将不知道 S 是否已准备好，不知道 S 建立什么样的序列号，C 甚至怀疑 S 是否收到自己的连接请求分组。在这种情况下，C 认为连接还未建立成功，将忽略 S 发来的任何数据分 组，只等待连接确认应答分组。而 S 在发出的分组超时后，重复发送同样的分组。这样就形成了死锁。</li></ul><h4 id="为什么主动断开方在time-wait状态必须等待2msl的时间"><a class="anchor" href="#为什么主动断开方在time-wait状态必须等待2msl的时间">#</a> 为什么主动断开方在 TIME-WAIT 状态必须等待 2MSL 的时间？</h4><ul><li>虽然按道理，四个报文都发送完毕，我们可以直接进入 CLOSE 状态了，但是我们必须假象网络是不可靠的，有可以最后一个 ACK 丢失。所以 TIME_WAIT 状态就是用来重发可能丢失的 ACK 报文。在 Client 发送出最后的 ACK 回复，但该 ACK 可能丢失。Server 如果没有收到 ACK，将不断重复发送 FIN 片段。所以 Client 不能立即关闭，它必须确认 Server 接收到了该 ACK。Client 会在发送出 ACK 之后进入到 TIME_WAIT 状态。Client 会设置一个计时器，等待 2MSL 的时间。如果在该时间内再次收到 FIN，那么 Client 会重发 ACK 并再次等待 2MSL。所谓的 2MSL 是两倍的 MSL (Maximum Segment Lifetime)。MSL 指一个片段在网络中最大的存活时间，2MSL 就是一个发送和一个回复所需的最大时间。如果直到 2MSL，Client 都没有再次收到 FIN，那么 Client 推断 ACK 已经被成功接收，则结束 TCP 连接。</li></ul><h4 id="如果已经建立了连接但是客户端突然出现故障了怎么办"><a class="anchor" href="#如果已经建立了连接但是客户端突然出现故障了怎么办">#</a> 如果已经建立了连接，但是客户端突然出现故障了怎么办？</h4><ul><li>TCP 还设有一个保活计时器，显然，客户端如果出现故障，服务器不能一直等下去，白白浪费资源。服务器每收到一次客户端的请求后都会重新复位这个计时器，时间通常是设置为 2 小时，若两小时还没有收到客户端的任何数据，服务器就会发送一个探测报文段，以后每隔 75 秒钟发送一次。若一连发送 10 个探测报文仍然没反应，服务器就认为客户端出了故障，接着就关闭连接。</li></ul><h4 id="tcp怎么保证可靠性"><a class="anchor" href="#tcp怎么保证可靠性">#</a> TCP 怎么保证可靠性</h4><ol><li><strong>序列号和确认号机制：</strong><br>TCP 发送端发送数据包的时候会选择序列号，接收端收到数据包后会检测数据包的完整性，如果检测通过会响应确认号表示收到了数据包。</li><li><strong>超时重发机制：</strong><br>发送端发送了数据包后会启动一个定时器，如果一定时间没有收到接收端的确认，将会重新发送该数据包。</li><li><strong>对乱序数据包重新排序：</strong><br>从 IP 网络层传输到 TCP 层的数据包可能会乱序，TCP 层会对数据包重新排序再发给应用层。</li><li><strong>丢弃重复数据：</strong><br>从 IP 网络层传输到 TCP 层的数据包可能会重复，TCP 层会丢弃重复的数据包。</li><li><strong>流量控制：</strong><br>TCP 发送端和接收端都有一个固定大小的缓冲空间，为了防止发送端发送数据的速度太快导致接收端缓冲区溢出，发送端只能发送接收端可以接纳的数据，为了达到这种控制效果，TCP 用了流量控制协议（可变大小的滑动窗口协议）来实现。<br>【滑动窗口详解】<br>滑动窗口通俗来讲就是一种流量控制技术。<br>它本质上是描述接收方的 TCP 数据报缓冲区大小的数据，发送方根据这个数据来计算自己最多能发送多长的数据，如果发送方收到接收方的窗口大小为 0 的话，那么发送方将停止发送数据，等到接收方发送窗口大小不为 0 的数据报的到来。首次发送数据时的窗口是链路带宽决定。</li><li><strong>拥塞控制：</strong><br>在数据传输过程中，可能由于网络状态的问题，造成网络拥堵，此时引入拥塞控制机制，在保证 TCP 可靠性的同时，提高性能，具体为慢启动、拥塞避免、快重传与快恢复……</li></ol><p><strong>【拥塞控制算法】</strong><br><img data-src="/assets/2021-11/http4.png" alt="image.png"></p><ul><li><strong>慢启动：</strong> TCP 刚建立连接之后，会一点一点提高发送数据报的数量，即每当发送方收到一个 ACK，就会将拥塞窗口的大小变为原来的 2 倍；当增长到慢启动门限 ssthresh 时，启动拥塞避免算法</li><li><strong>拥塞避免：</strong> 为了避免拥塞，超过慢启动门限后，拥塞窗口的大小每收到一个 ACK，加 1，为线性增长</li><li><strong>快重传：</strong> 当出现拥塞的时候，发生了丢包的现象，快速重传算 *** 将拥塞窗口变为原来的一半，并且让慢启动门限变为拥塞窗口大小<br>如果不进行快速重传，进行超时重传，则是将慢启动门限设置为拥塞窗口大小的一半，并且将拥塞窗口大小置为 1</li><li><strong>快恢复：</strong> 让拥塞窗口大小 +3 （即确认收到了三个数据报），并执行拥塞避免的线性增长</li></ul><h4 id="状态码分类"><a class="anchor" href="#状态码分类">#</a> 状态码分类</h4><ul><li>1XX- 信息型，服务器收到请求，需要请求者继续操作。</li><li>2XX- 成功型，请求成功收到，理解并处理。</li><li>3XX - 重定向，需要进一步的操作以完成请求。</li><li>4XX - 客户端错误，请求包含语法错误或无法完成请求。</li><li>5XX - 服务器错误，服务器在处理请求的过程中发生了错误。</li></ul><h4 id="常见的状态码"><a class="anchor" href="#常见的状态码">#</a> 常见的状态码</h4><ul><li>200 OK - 客户端请求成功</li><li>301 - 资源（网页等）被永久转移到其它 URL</li><li>302 - 临时跳转</li><li>400 Bad Request - 客户端请求有语法错误，不能被服务器所理解</li><li>401 Unauthorized - 请求未经授权，这个状态代码必须和 WWW- Authenticate 报头域一起使用（简单理解：表示用户没有权限 令牌，用户名，密码错误）</li><li>403 Forbidden 代表客户端错误，指的是服务器端有能力处理该请求，但是拒绝授权访问。</li><li>404 - 请求资源不存在，可能是输入了错误的 URL</li><li>500 - 服务器内部发生了不可预期的错误</li><li>503 Server Unavailable - 服务器当前不能处理客户端的请求，一段时间后可能恢复正常。</li></ul><p>🚀🚀🚀<br><br></p><div class="tags"><a href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag"><i class="ic i-tag"></i> 面试</a> <a href="/tags/%E5%85%AB%E8%82%A1%E6%96%87/" rel="tag"><i class="ic i-tag"></i> 八股文</a> <a href="/tags/%E5%9F%BA%E7%A1%80/" rel="tag"><i class="ic i-tag"></i> 基础</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2022-03-23 14:40:02" itemprop="dateModified" datetime="2022-03-23T14:40:02+08:00">2022-03-23</time> </span><span id="2021/11/a702195cf0e5/" class="item leancloud_visitors" data-flag-title="HTTP 协议 和 HTTPS 协议 详解" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="田埂、 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="田埂、 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="田埂、 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>田埂、 <i class="ic i-at"><em>@</em></i>田埂の技术分享</li><li class="link"><strong>本文链接：</strong> <a href="https://shaogezhu.cn/2021/11/a702195cf0e5/" title="HTTP 协议 和 HTTPS 协议 详解">https://shaogezhu.cn/2021/11/a702195cf0e5/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2021/11/5c2b3693deda/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipexoj0moj20zk0m8kgu.jpg" title="彻底理解 进程、线程、多进程、多线程"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 学习笔记</span><h3>彻底理解 进程、线程、多进程、多线程</h3></a></div><div class="item right"><a href="/2021/11/f5f4ddb13fdd/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicm0n457cj20zk0m8e81.jpg" title="lambdaQueryWrapper中常用的方法"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> MySQL</span><h3>lambdaQueryWrapper中常用的方法</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.</span> <span class="toc-text">协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#http-%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.</span> <span class="toc-text">HTTP 协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#http%E5%BB%BA%E7%AB%8B%E9%93%BE%E6%8E%A5%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-number">2.0.1.</span> <span class="toc-text">http 建立链接的过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#http%E7%89%B9%E7%82%B9"><span class="toc-number">2.0.2.</span> <span class="toc-text">HTTP 特点</span></a></li></ol></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#https-%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.</span> <span class="toc-text">HTTPS 协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#https%E5%BB%BA%E7%AB%8B%E9%93%BE%E6%8E%A5%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-number">3.0.1.</span> <span class="toc-text">https 建立链接的过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#https%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">3.0.2.</span> <span class="toc-text">https 的特点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#http-%E4%B8%8E-https-%E5%8C%BA%E5%88%AB"><span class="toc-number">4.</span> <span class="toc-text">HTTP 与 HTTPS 区别</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E7%A7%B0%E7%A7%98%E9%92%A5%E5%8A%A0%E5%AF%86%E5%92%8C%E9%9D%9E%E5%AF%B9%E7%A7%B0%E7%A7%98%E9%92%A5%E5%8A%A0%E5%AF%86"><span class="toc-number">4.0.1.</span> <span class="toc-text">对称秘钥加密和非对称秘钥加密</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tcp%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E8%BF%87%E7%A8%8B"><span class="toc-number">4.0.2.</span> <span class="toc-text">TCP 三次握手过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B%E8%BF%87%E7%A8%8B"><span class="toc-number">4.0.3.</span> <span class="toc-text">四次挥手过程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%93%E5%B1%95%E7%9F%A5%E8%AF%86"><span class="toc-number">5.</span> <span class="toc-text">拓展知识</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%9E%E6%8E%A5%E7%9A%84%E6%97%B6%E5%80%99%E6%98%AF%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%85%B3%E9%97%AD%E7%9A%84%E6%97%B6%E5%80%99%E5%8D%B4%E6%98%AF%E5%9B%9B%E6%AC%A1%E6%8F%A1%E6%89%8B"><span class="toc-number">5.0.1.</span> <span class="toc-text">为什么连接的时候是三次握手，关闭的时候却是四次握手？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%9E%E6%8E%A5%E5%BB%BA%E7%AB%8B%E7%9A%84%E6%97%B6%E5%80%99%E6%98%AF%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%8F%AF%E4%BB%A5%E6%94%B9%E6%88%90%E4%B8%A4%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%90%97"><span class="toc-number">5.0.2.</span> <span class="toc-text">为什么连接建立的时候是三次握手，可以改成两次握手吗？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%BB%E5%8A%A8%E6%96%AD%E5%BC%80%E6%96%B9%E5%9C%A8time-wait%E7%8A%B6%E6%80%81%E5%BF%85%E9%A1%BB%E7%AD%89%E5%BE%852msl%E7%9A%84%E6%97%B6%E9%97%B4"><span class="toc-number">5.0.3.</span> <span class="toc-text">为什么主动断开方在 TIME-WAIT 状态必须等待 2MSL 的时间？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E5%B7%B2%E7%BB%8F%E5%BB%BA%E7%AB%8B%E4%BA%86%E8%BF%9E%E6%8E%A5%E4%BD%86%E6%98%AF%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%AA%81%E7%84%B6%E5%87%BA%E7%8E%B0%E6%95%85%E9%9A%9C%E4%BA%86%E6%80%8E%E4%B9%88%E5%8A%9E"><span class="toc-number">5.0.4.</span> <span class="toc-text">如果已经建立了连接，但是客户端突然出现故障了怎么办？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tcp%E6%80%8E%E4%B9%88%E4%BF%9D%E8%AF%81%E5%8F%AF%E9%9D%A0%E6%80%A7"><span class="toc-number">5.0.5.</span> <span class="toc-text">TCP 怎么保证可靠性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E7%A0%81%E5%88%86%E7%B1%BB"><span class="toc-number">5.0.6.</span> <span class="toc-text">状态码分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">5.0.7.</span> <span class="toc-text">常见的状态码</span></a></li></ol></li></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2021/11/5c2b3693deda/" rel="bookmark" title="彻底理解 进程、线程、多进程、多线程">彻底理解 进程、线程、多进程、多线程</a></li><li class="active"><a href="/2021/11/a702195cf0e5/" rel="bookmark" title="HTTP协议 和 HTTPS协议 详解">HTTP协议 和 HTTPS协议 详解</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="田埂、" data-src="/images/avatar.jpg"><p class="name" itemprop="name">田埂、</p><div class="description" itemprop="description">仍在奔赴远方路上的少年</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">19</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">5</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">22</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3NoYW9nZXpodQ==" title="https:&#x2F;&#x2F;github.com&#x2F;shaogezhu"><i class="ic i-github"></i></span> <a href="https://shaogezhu.cn/" title="https:&#x2F;&#x2F;shaogezhu.cn" class="item twitter"><i class="ic i-twitter"></i></a> <a href="https://shaogezhu.cn/" title="https:&#x2F;&#x2F;shaogezhu.cn" class="item zhihu"><i class="ic i-zhihu"></i></a> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTEzNzEyNTY1OTQ=" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;1371256594"><i class="ic i-cloud-music"></i></span> <a href="https://shaogezhu.cn/" title="https:&#x2F;&#x2F;shaogezhu.cn" class="item weibo"><i class="ic i-weibo"></i></a> <a href="https://shaogezhu.cn/" title="https:&#x2F;&#x2F;shaogezhu.cn" class="item about"><i class="ic i-address-card"></i></a></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-magic"></i>链环</a><ul class="submenu"><li class="item"><a href="/friends/" rel="section"><i class="ic i-link"></i>友链</a></li><li class="item"><a href="/collection/" rel="section"><i class="ic i-star"></i>收藏</a></li></ul></li><li class="item"><a href="/about/" rel="section"><i class="ic i-sakura"></i>关于</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2021/11/5c2b3693deda/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2021/11/f5f4ddb13fdd/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/note/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2021/10/4eb7eccc7c2a/" title="Redis 常见数据结构以及使用场景分析">Redis 常见数据结构以及使用场景分析</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/note/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2021/9/b35e5850bf12/" title="网站压力测试工具之ab (ApacheBench) 和 Jmeter 详解">网站压力测试工具之ab (ApacheBench) 和 Jmeter 详解</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/note/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2021/11/2a1449b2531c/" title="MySQL常见的锁分析">MySQL常见的锁分析</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/practice/" title="分类于 技术实践">技术实践</a></div><span><a href="/2022/8/b87af8545928/" title="一篇文章教你轻松使用Fastjson">一篇文章教你轻松使用Fastjson</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/note/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2021/11/a702195cf0e5/" title="HTTP协议 和 HTTPS协议 详解">HTTP协议 和 HTTPS协议 详解</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/practice/" title="分类于 技术实践">技术实践</a></div><span><a href="/2022/8/e92c6dc1ddaa/" title="系统总结，带你实现Linux命令自由">系统总结，带你实现Linux命令自由</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/note/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2021/10/95416e47530f/" title="内存溢出和内存泄露的区别与联系">内存溢出和内存泄露的区别与联系</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/note/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2022/3/53fe22309155/" title="JVM垃圾回收-记忆集和卡表">JVM垃圾回收-记忆集和卡表</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/note/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2021/11/5c2b3693deda/" title="彻底理解 进程、线程、多进程、多线程">彻底理解 进程、线程、多进程、多线程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/java/note/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2022/3/ead1dab4ce75/" title="JVM垃圾收集-ZGC的染色指针">JVM垃圾收集-ZGC的染色指针</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2021 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">田埂、 @ 田埂の技术分享</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">103k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">2:51</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2021/11/a702195cf0e5/",favicon:{show:"田埂の技术分享",hide:"田埂の技术分享"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>